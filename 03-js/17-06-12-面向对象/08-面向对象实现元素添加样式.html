<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>08-面向对象实现元素添加样式</title>
    <style>
        div,
        p {
            margin: 8px 0;
        }
    </style>
</head>

<body>
    <div>
        div1
    </div>
    <div>
        div2
    </div>
    <p>
        p1
    </p>
    <p>
        p2
    </p>
    <script>
        /* var handleDom = {
            getByTag: function( tag ){
                return document.getElementsByTagName( tag );
            },
            setStyles: function( doms, callback ){
                var i = 0,
                    l = doms.length;

                for( ; i < l; i++ ){
                    callback( doms[ i ] );
                }
            }
        };


        handleDom.setStyles( handleDom.getByTag( 'div' ), function( el ){
            el.style.backgroundColor = 'red';
        } );*/

        var handleDom = {
            getByTag: function (tag) {
                return document.getElementsByTagName(tag);
            },
            setStyles: function (tag, callback) {
                console.log(this); // handleDom
                var doms = this.getByTag(tag);

                var i = 0,
                    l = doms.length;

                for (; i < l; i++) {
                    callback(doms[i]);
                }

                return this; // 返回handleDom对象，实现链式编程
            }
        };

        handleDom.setStyles('div', function (el) {
            el.style.backgroundColor = 'yellow';
        }).setStyles('p', function (el) {
            el.style.backgroundColor = 'red';
        });
    </script>
</body>

</html>