<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>08-面向对象实现元素添加样式</title>
    <style>
        div,
        p {
            margin: 8px 0;
        }
    </style>
</head>

<body>
    <div>
        div1
    </div>
    <div>
        div2
    </div>
    <p>
        p1
    </p>
    <p>
        p2
    </p>
    <script>
        var handleDom = {
            getByTag: function (tag) {
                return document.getElementsByTagName(tag);
            },
            setStyles: function (tag, callback) {
                console.log(this);
                //这里的this是handleDom
                var doms = this.getByTag(tag);
                var i = 0;
                l = doms.length;
                for (; i < l; i++) {
                    //将 元素反回给回调函数；
                    callback(doms[i]);
                }
                return this;  //返回handleDom对象； 实现链式编程
            },
        };

        console.log(typeof(handleDom));
        handleDom.setStyles('div', function (elem) {
            elem.style.backgroundColor = "#ccc";
        }).setStyles('p', function (elem) {
            elem.style.backgroundColor = '#00ffff';
        })
    </script>
</body>

</html>